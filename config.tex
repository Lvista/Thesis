\documentclass[12pt]{ctexart}
\usepackage[backend=biber,style=numeric,sorting=none, backref=true]{biblatex}
\usepackage{graphicx,xcolor}
\usepackage{caption}
\usepackage{subcaption} % 子图支持
\usepackage{chngcntr}
\usepackage{pdfpages} % insert multi-page PDF
\usepackage{bm}
\usepackage{amssymb}
\usepackage{array}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{makecell}
\usepackage{amsmath}

% 设置章节标题格式（针对section）
\ctexset{
    section = {
        format = \centering\heiti\Large,
        name = {第,章},
        number = \arabic{section},
        aftername = \hspace{0.5em}
    },
    subsection = {
        format = \raggedright\heiti\large,
        name = {},
        number = \arabic{section}.\arabic{subsection},
        aftername = \hspace{0.5em}
    }
}

% 设置为右上角标
% 方括号引用命令（行内）
\DeclareCiteCommand{\citeb}[\mkbibbrackets]
  {\usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \usebibmacro{cite}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

% 定义上标方括号格式的包装器
\newcommand{\mkbibsuperbrackets}[1]{\textsuperscript{[#1]}}

% 上标方括号引用命令（修正版）
\DeclareCiteCommand{\cites}[\mkbibsuperbrackets]
  {\iffieldundef{prenote}{}{\BibliographyWarning{Ignoring prenote argument}}%
   \iffieldundef{postnote}{}{\BibliographyWarning{Ignoring postnote argument}}}
  {\usebibmacro{citeindex}%
   \usebibmacro{cite}}
  {\multicitedelim}
  {}

\addbibresource{main.bib}  % 你的 .bib 文件

% 设置参考文献标题为中文
\DefineBibliographyStrings{english}{
  references = {参考文献}
}

% 图注设置
\captionsetup[figure]{
    labelsep=quad,
    name=图,
    format=plain,
    font=small,
    labelfont=bf
}

% 表注设置
\captionsetup[table]{
    labelsep=quad,
    name=表,
    format=plain,
    font=small,
    labelfont=bf
}

% 图和表按节编号
\counterwithin{figure}{section}
\counterwithin{table}{section}

% 如果需要按章节编号（如果使用chapter），但ctexart没有chapter
% 如果确实需要章节，建议改用ctexbook文档类
% \renewcommand{\thefigure}{\thesection.\arabic{figure}}
% \renewcommand{\thetable}{\thesection.\arabic{table}}
